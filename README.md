# Symbol parsing

Transform the symbol output of an iOS application into JSON which can then be interpreted by the server.

The "symbols output" is generated by Xcode `symbols` command; for example:

    $ symbols MyApp.app.dSYM/Contents/Resources/DWARF/MyApp > symbols.txt

execute the parser with:

    $ ./ParseSymbols symbols.txt

the parser (`ParseSymbols`) generates JSON output in form:

```
  [
   {
   startAddress: "0x000100",Â 
   endAddress: "0x0000ABC",
   messageName: "billyBob:jim,
   file: "main.m",
   line: 10,
   },
   ....
 ]
```

which can then be uploaded to the server and used to process crash reports generated by (PLCrashReporter)[https://www.plcrashreporter.org]

## Setup

The compiled parser is `ParseSymbols`. This is a Mac executable which you can run directly without any other installation.

If you want to modify the source you'll need to install haskell:
* Mac - https://ghcformacosx.github.io
* Other platforms - https://www.haskell.org/platform/

Then compile with:
```
stack build
```

and run the tests with:
```
stack test
```


## Further information

* https://github.com/JakeWheat/intro_to_parsing
* http://unbui.lt/#!/post/haskell-parsec-basics
